<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Page</title>
  <link rel="stylesheet" href="../style.css" />

  <!-- EmailJS SDK -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script type="text/javascript">
    (function() {
      emailjs.init({
        publicKey: "b6nWOZy-cxyFa51ce",
      });
    })();
  </script>

  <!-- Load Components -->
  <script>
    // Load the header component
    fetch('/components/header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header-container').innerHTML = data;
      })
      .catch(error => console.error('Error loading header:', error));

    // Load the footer component
    fetch('/components/footer.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('footer-container').innerHTML = data;
      })
      .catch(error => console.error('Error loading footer:', error));

    // Load the dot component
    fetch('/components/dot.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('dot1').innerHTML = data;
        document.getElementById('dot2').innerHTML = data;
      })
      .catch(error => console.error('Error loading dot:', error));
  </script>
</head>
<body>
  <!-- Header -->
  <header id="header-container"></header>

  <!-- Main -->
  <main class="contact-container">

    <!-- Breadcum -->
    <div class="breadcum">
      <a href="/index.html">HOME</a> / <a href="/contact.html">CONTACT US</a>
    </div>

    <!-- Contact info -->
    <div class="contact-info">
      <div class="contact-info__item">
        <img src="assets/contact/location-add.png" alt="Location" class="contact-info__icon" />
        <a>123 Main Street, Australia</a>
      </div>
      <div class="contact-info__item">
        <img src="assets/contact/sms.png" alt="Email" class="contact-info__icon" />
        <a href="#">RlElectronics@gmail.com</a>
      </div>
      <div class="contact-info__item">
        <img src="assets/contact/call-incoming.png" alt="Call" class="contact-info__icon" />
        <a href="#">+1 (555) 123-4567</a>
      </div>
    </div>

    <!-- Contact form -->
    <form id="contact-form" class="form">
      <div class="form__wrapper">
        <!-- Title and description -->
        <div class="form__header">
          <h1>Hello Rinzin ðŸ‘‹</h1>
          <p>We would love to hear more about RlElectronics from you!</p>
        </div>

        <div class="form__content">
          <!-- Message form -->
          <div class="form__section">
            <p class="form__section-title">Leave us a message</p>
            <input type="text" id="name" class="form__input" placeholder="Name" required>
            <input type="email" id="email" class="form__input" placeholder="Email" required>
            <textarea id="message" class="form__textarea" placeholder="Message" required></textarea>
            <button type="submit" class="form__submit-btn">Submit</button>
          </div>

          <!-- Details section -->
           <div class="detail__section">
            <div class="detail__section-item">
              <img src="assets/contact/location-add.png" alt="location" class="detail__section-icon" />
              <p>123 Main Street, Australia</p>
            </div>
            <div class="detail__section-item">
              <img src="assets/contact/call-incoming.png" alt="call" class="detail__section-icon" />
              <p>+1 (555) 123-4567</p>
            </div>
            <div class="detail__section-item">
              <img src="assets/contact/sms.png" alt="sms" class="detail__section-icon" />
              <p>RlElectronics@gmail.com</p>
            </div>
            <div class="site-footer__section site-footer__map">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2916.861474066967!2d147.04952807732147!3d-43.02330284933734!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xaa6e7e8a42ec5bb9%3A0x94440c47047f66a5!2s123%20Main%20St%2C%20Huonville%20TAS%207109%2C%20Australia!5e0!3m2!1sen!2sbt!4v1728061546623!5m2!1sen!2sbt" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
           </div>
        </div>
      </div>
    </form>

    <div class="dot-container-top">
      <div id="dot1"></div>
    </div>
    <div class="dot-container-bottom">
      <div id="dot2"></div>
    </div>
  </main>

  <!-- Footer -->
  <footer id="footer-container"></footer>

  <!-- EmailJS Script to Send Email -->
  <script>
    document.getElementById('contact-form').addEventListener('submit', function(event) {
      event.preventDefault();
  
      // Get the submit button
      const submitButton = document.querySelector('.form__submit-btn');
      submitButton.textContent = 'Sending...';  // Change the button text to "Sending..."
  
      const serviceID = 'service_k6cri13';
      const templateID = 'template_thgkqkc';
  
      // Get form values
      const templateParams = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        message: document.getElementById('message').value
      };
  
      emailjs.send(serviceID, templateID, templateParams)
        .then(function(response) {
          console.log('SUCCESS!', response.status, response.text);
          submitButton.textContent = 'Success!';  // Change the button text to "Success"
          alert('Your message has been sent!');
          
          // Reset the form and button text after 3 seconds
          setTimeout(function() {
            submitButton.textContent = 'Submit';  // Change the button text back to "Submit"
            document.getElementById('contact-form').reset();  // Clear form
          }, 3000);
        }, function(error) {
          console.error('FAILED...', error);
          submitButton.textContent = 'Submit';  // Change the button text back to "Submit" on failure
          alert('Oops! Something went wrong, please try again.');
        });
    });
  </script>
</body>
</html>
